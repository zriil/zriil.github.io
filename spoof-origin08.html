<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>POC Download</title>
  <script>
    // Ganti URL dan nama file sesuai kebutuhan
    const FILE_URL = "https://example.com/path/to/your-file.exe";
    const FILE_NAME = "your-file.exe";

    async function downloadFile(url = FILE_URL, filename = FILE_NAME) {
      try {
        // fetch file (requires CORS if cross-origin)
        const resp = await fetch(url, { method: "GET", credentials: "same-origin" });
        if (!resp.ok) throw new Error("Network response was not ok: " + resp.status);

        const blob = await resp.blob();
        const objectUrl = URL.createObjectURL(blob);

        const a = document.createElement("a");
        a.href = objectUrl;
        a.download = filename; // suggested filename
        // Append to DOM so click() works on all browsers
        document.body.appendChild(a);
        a.click();
        a.remove();

        // revoke after a short delay to allow download to start
        setTimeout(() => URL.revokeObjectURL(objectUrl), 10000);
      } catch (err) {
        console.error("Download failed:", err);
        alert("Download failed: " + err.message + "\n(If file is cross-origin, server must allow CORS.)");
      }
    }

    // Hook from link
    function f() {
      // user gesture (click) triggers download
      downloadFile();
    }
  </script>
</head>
<body>
  <center>
    <a href="#" onclick="f(); return false;">Click to download (POC)</a>
  </center>
</body>
</html>
